{"ast":null,"code":"import axios from \"axios\";\nimport { PRODUCT_LIST_REQUEST, PRODUCT_LIST_SUCCESS, PRODUCT_LIST_FAIL, PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_FAIL, PRODUCT_DETAILS_SUCCESS, PRODUCT_SAVE_REQUEST } from \"../constants/productConstants\";\n\nconst listProducts = () => async dispatch => {\n  try {\n    dispatch({\n      type: PRODUCT_LIST_REQUEST\n    });\n    const {\n      data\n    } = await axios.get('/api/products');\n    dispatch({\n      type: PRODUCT_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_LIST_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst detailsProduct = productId => async dispatch => {\n  try {\n    dispatch({\n      type: PRODUCT_DETAILS_REQUEST,\n      payload: productId\n    });\n    const {\n      data\n    } = await axios.get('/api/products/' + productId);\n    dispatch({\n      type: PRODUCT_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_DETAILS_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nconst saveProduct = product => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_SAVE_REQUEST,\n      payload: product\n    });\n    const {\n      userSignin: {\n        userInfo\n      }\n    } = getState(); // if (!product._id) {\n\n    const {\n      data\n    } = await Axios.post('/api/products', product, {\n      headers: {\n        Authorization: 'TanHong ' + userInfo.token\n      }\n    });\n    dispatch({\n      type: PRODUCT_SAVE_SUCCESS,\n      payload: data\n    }); // } else {\n    //     const { data } = await Axios.put(\n    //         '/api/products/' + product._id,\n    //         product,\n    //         {\n    //             headers: {\n    //                 Authorization: 'TanHong ' + userInfo.token,\n    //             },\n    //         }\n    //     );\n    //     dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\n    // }\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_SAVE_FAIL,\n      payload: error.message\n    });\n  }\n};\n\nexport { listProducts, detailsProduct, saveProduct };","map":{"version":3,"sources":["/home/tanhong/REACT PROJECT/frontend2_react_web/frontend/src/actions/productActions.js"],"names":["axios","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_FAIL","PRODUCT_DETAILS_SUCCESS","PRODUCT_SAVE_REQUEST","listProducts","dispatch","type","data","get","payload","error","message","detailsProduct","productId","saveProduct","product","getState","userSignin","userInfo","Axios","post","headers","Authorization","token","PRODUCT_SAVE_SUCCESS","PRODUCT_SAVE_FAIL"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,oBAAT,EAA+BC,oBAA/B,EAAqDC,iBAArD,EAAwEC,uBAAxE,EAAiGC,oBAAjG,EAAuHC,uBAAvH,EAAgJC,oBAAhJ,QAA4K,+BAA5K;;AAEA,MAAMC,YAAY,GAAG,MAAM,MAAOC,QAAP,IAAoB;AAC3C,MAAI;AACAA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAET;AAAR,KAAD,CAAR;AACA,UAAM;AAAEU,MAAAA;AAAF,QAAW,MAAMX,KAAK,CAACY,GAAN,CAAU,eAAV,CAAvB;AACAH,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAER,oBAAR;AAA8BW,MAAAA,OAAO,EAAEF;AAAvC,KAAD,CAAR;AACH,GAJD,CAIE,OAAOG,KAAP,EAAc;AACZL,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEP,iBAAR;AAA2BU,MAAAA,OAAO,EAAEC,KAAK,CAACC;AAA1C,KAAD,CAAR;AACH;AACJ,CARD;;AAUA,MAAMC,cAAc,GAAIC,SAAD,IAAe,MAAOR,QAAP,IAAoB;AACtD,MAAI;AACAA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEN,uBAAR;AAAiCS,MAAAA,OAAO,EAAEI;AAA1C,KAAD,CAAR;AACA,UAAM;AAAEN,MAAAA;AAAF,QAAW,MAAMX,KAAK,CAACY,GAAN,CAAU,mBAAmBK,SAA7B,CAAvB;AACAR,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEJ,uBAAR;AAAiCO,MAAAA,OAAO,EAAEF;AAA1C,KAAD,CAAR;AACH,GAJD,CAIE,OAAOG,KAAP,EAAc;AACZL,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEL,oBAAR;AAA8BQ,MAAAA,OAAO,EAAEC,KAAK,CAACC;AAA7C,KAAD,CAAR;AACH;AACJ,CARD;;AAUA,MAAMG,WAAW,GAAIC,OAAD,IAAa,OAAOV,QAAP,EAAiBW,QAAjB,KAA8B;AAC3D,MAAI;AACAX,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEH,oBAAR;AAA8BM,MAAAA,OAAO,EAAEM;AAAvC,KAAD,CAAR;AACA,UAAM;AACFE,MAAAA,UAAU,EAAE;AAAEC,QAAAA;AAAF;AADV,QAEFF,QAAQ,EAFZ,CAFA,CAKA;;AACI,UAAM;AAAET,MAAAA;AAAF,QAAW,MAAMY,KAAK,CAACC,IAAN,CAAW,eAAX,EAA4BL,OAA5B,EAAqC;AACxDM,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAE,aAAaJ,QAAQ,CAACK;AADhC;AAD+C,KAArC,CAAvB;AAKAlB,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEkB,oBAAR;AAA8Bf,MAAAA,OAAO,EAAEF;AAAvC,KAAD,CAAR,CAXJ,CAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,GAxBD,CAwBE,OAAOG,KAAP,EAAc;AACZL,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEmB,iBAAR;AAA2BhB,MAAAA,OAAO,EAAEC,KAAK,CAACC;AAA1C,KAAD,CAAR;AACH;AACJ,CA5BD;;AA8BA,SAASP,YAAT,EAAuBQ,cAAvB,EAAuCE,WAAvC","sourcesContent":["import axios from \"axios\";\nimport { PRODUCT_LIST_REQUEST, PRODUCT_LIST_SUCCESS, PRODUCT_LIST_FAIL, PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_FAIL, PRODUCT_DETAILS_SUCCESS, PRODUCT_SAVE_REQUEST } from \"../constants/productConstants\";\n\nconst listProducts = () => async (dispatch) => {\n    try {\n        dispatch({ type: PRODUCT_LIST_REQUEST });\n        const { data } = await axios.get('/api/products');\n        dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data });\n    } catch (error) {\n        dispatch({ type: PRODUCT_LIST_FAIL, payload: error.message });\n    }\n};\n\nconst detailsProduct = (productId) => async (dispatch) => {\n    try {\n        dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\n        const { data } = await axios.get('/api/products/' + productId);\n        dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\n    } catch (error) {\n        dispatch({ type: PRODUCT_DETAILS_FAIL, payload: error.message });\n    }\n};\n\nconst saveProduct = (product) => async (dispatch, getState) => {\n    try {\n        dispatch({ type: PRODUCT_SAVE_REQUEST, payload: product });\n        const {\n            userSignin: { userInfo },\n        } = getState();\n        // if (!product._id) {\n            const { data } = await Axios.post('/api/products', product, {\n                headers: {\n                    Authorization: 'TanHong ' + userInfo.token,\n                },\n            });\n            dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\n        // } else {\n        //     const { data } = await Axios.put(\n        //         '/api/products/' + product._id,\n        //         product,\n        //         {\n        //             headers: {\n        //                 Authorization: 'TanHong ' + userInfo.token,\n        //             },\n        //         }\n        //     );\n        //     dispatch({ type: PRODUCT_SAVE_SUCCESS, payload: data });\n        // }\n    } catch (error) {\n        dispatch({ type: PRODUCT_SAVE_FAIL, payload: error.message });\n    }\n};\n\nexport { listProducts, detailsProduct, saveProduct };"]},"metadata":{},"sourceType":"module"}