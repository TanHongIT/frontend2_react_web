{"ast":null,"code":"import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import CheckoutSteps from'../components/CheckoutSteps';// import { createOrder } from '../actions/orderActions';\nfunction PlaceOrderScreen(props){var cart=useSelector(function(state){return state.cart;});// const orderCreate = useSelector(state => state.orderCreate);\n// const { loading, success, error, order } = orderCreate;\nvar cartItems=cart.cartItems,shipping=cart.shipping,payment=cart.payment;if(!shipping.address){props.history.push(\"/shipping\");}else if(!payment.paymentMethod){props.history.push(\"/payment\");}var itemsPrice=cartItems.reduce(function(a,c){return a+c.price*c.qty;},0);var shippingPrice=itemsPrice>100?0:10;var taxPrice=0.15*itemsPrice;var totalPrice=itemsPrice+shippingPrice+taxPrice;var dispatch=useDispatch();// const placeOrderHandler = () => {\n//   // create an order\n//   dispatch(createOrder({\n//     orderItems: cartItems, shipping, payment, itemsPrice, shippingPrice,\n//     taxPrice, totalPrice\n//   }));\n// }\nuseEffect(function(){},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CheckoutSteps,{step1:true,step2:true,step3:true,step4:true}),/*#__PURE__*/React.createElement(\"div\",{className:\"ps-content pt-80 pb-80\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ps-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ps-cart-listing\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table ps-cart__table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"All Products\"),/*#__PURE__*/React.createElement(\"th\",null,\"Price\"),/*#__PURE__*/React.createElement(\"th\",null,\"Quantity\"),/*#__PURE__*/React.createElement(\"th\",null,\"Total\"),/*#__PURE__*/React.createElement(\"th\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,cartItems.length===0?/*#__PURE__*/React.createElement(\"div\",null,\"Cart is empty\"):cartItems.map(function(item){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"a\",{className:\"ps-product__preview\",href:\"product-detail.html\"},/*#__PURE__*/React.createElement(\"img\",{width:\"50\",className:\"mr-15\",src:\"/images/products/\"+item.image,alt:true}),\" \",item.name)),/*#__PURE__*/React.createElement(\"td\",null,item.price,\" \\u0110\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group--number\"},item.qty<=item.countInStock?item.qty:1)),/*#__PURE__*/React.createElement(\"td\",null,item.qty<=item.countInStock?item.qty*item.price:item.price,\" \\u0110\"),/*#__PURE__*/React.createElement(\"td\",null));}))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h3\",null,\"Order Summary\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table ps-cart__table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Items\"),/*#__PURE__*/React.createElement(\"th\",null,\"Shipping\"),/*#__PURE__*/React.createElement(\"th\",null,\"Tax\"),/*#__PURE__*/React.createElement(\"th\",null,\"Order Total\"),/*#__PURE__*/React.createElement(\"th\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,itemsPrice,\" VND\"),/*#__PURE__*/React.createElement(\"td\",null,shippingPrice,\" VND\"),/*#__PURE__*/React.createElement(\"td\",null,taxPrice,\" VND\"),/*#__PURE__*/React.createElement(\"td\",null,totalPrice,\" VND\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"ps-cart__actions\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ps-cart__promotion\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"a\",{href:\"/\",className:\"ps-btn ps-btn--gray\"},\"Continue Shopping\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"ps-cart__total\"},/*#__PURE__*/React.createElement(\"button\",{className:\"ps-btn\",disabled:cartItems.length===0},\"Place Order \",/*#__PURE__*/React.createElement(\"i\",{className:\"ps-icon-next\"}))))))));}export default PlaceOrderScreen;","map":{"version":3,"sources":["/home/tanhong/REACT PROJECT/frontend2_react_web/frontend/src/screens/PlaceOrderScreen.js"],"names":["React","useEffect","useDispatch","useSelector","Link","CheckoutSteps","PlaceOrderScreen","props","cart","state","cartItems","shipping","payment","address","history","push","paymentMethod","itemsPrice","reduce","a","c","price","qty","shippingPrice","taxPrice","totalPrice","dispatch","length","map","item","image","name","countInStock"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport CheckoutSteps from '../components/CheckoutSteps';\n// import { createOrder } from '../actions/orderActions';\nfunction PlaceOrderScreen(props) {\n\n  const cart = useSelector(state => state.cart);\n  // const orderCreate = useSelector(state => state.orderCreate);\n  // const { loading, success, error, order } = orderCreate;\n\n  const { cartItems, shipping, payment } = cart;\n  if (!shipping.address) {\n    props.history.push(\"/shipping\");\n  } else if (!payment.paymentMethod) {\n    props.history.push(\"/payment\");\n  }\n  const itemsPrice = cartItems.reduce((a, c) => a + c.price * c.qty, 0);\n  const shippingPrice = itemsPrice > 100 ? 0 : 10;\n  const taxPrice = 0.15 * itemsPrice;\n  const totalPrice = itemsPrice + shippingPrice + taxPrice;\n\n  const dispatch = useDispatch();\n\n  // const placeOrderHandler = () => {\n  //   // create an order\n  //   dispatch(createOrder({\n  //     orderItems: cartItems, shipping, payment, itemsPrice, shippingPrice,\n  //     taxPrice, totalPrice\n  //   }));\n  // }\n  useEffect(() => {\n\n  }, []);\n\n  return <div>\n    <CheckoutSteps step1 step2 step3 step4 ></CheckoutSteps>\n    <div className=\"ps-content pt-80 pb-80\">\n      <div className=\"ps-container\">\n        <div className=\"ps-cart-listing\">\n          <table className=\"table ps-cart__table\">\n            <thead>\n              <tr>\n                <th>All Products</th>\n                <th>Price</th>\n                <th>Quantity</th>\n                <th>Total</th>\n                <th />\n              </tr>\n            </thead>\n            <tbody>\n              {\n                cartItems.length === 0 ?\n                  <div>\n                    Cart is empty\n          </div>\n                  :\n                  cartItems.map(item =>\n\n                    <tr>\n                      <td>\n                        <a className=\"ps-product__preview\" href=\"product-detail.html\">\n                          <img\n                            width='50'\n                            className=\"mr-15\"\n                            src={\"/images/products/\" + item.image}\n                            alt\n                          />{\" \"}\n                          {item.name}\n                        </a>\n                      </td>\n                      <td>{item.price} Đ</td>\n                      <td>\n                        <div className=\"form-group--number\">\n                          {item.qty <= item.countInStock ? item.qty : 1}\n                        </div>\n                      </td>\n                      <td>{item.qty <= item.countInStock ? item.qty * item.price : item.price} Đ</td>\n                      <td>\n\n                      </td>\n                    </tr>\n\n                  )\n              }\n            </tbody>\n          </table><br /><br /><br />\n          <h3>Order Summary</h3>\n          <table className=\"table ps-cart__table\">\n            <thead>\n              <tr>\n                <th>Items</th>\n                <th>Shipping</th>\n                <th>Tax</th>\n                <th>Order Total</th>\n                <th />\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>{itemsPrice} VND</td>\n                <td>{shippingPrice} VND</td>\n                <td>{taxPrice} VND</td>\n                <td>{totalPrice} VND</td>\n              </tr>\n            </tbody>\n          </table>\n\n          <div className=\"ps-cart__actions\">\n            <div className=\"ps-cart__promotion\">\n              <div className=\"form-group\">\n                <a href='/' className=\"ps-btn ps-btn--gray\">Continue Shopping</a>\n              </div>\n            </div>\n            <div className=\"ps-cart__total\">\n              <button className=\"ps-btn\" disabled={cartItems.length === 0}>\n                Place Order <i className=\"ps-icon-next\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n}\n\nexport default PlaceOrderScreen;"]},"metadata":{},"sourceType":"module"}