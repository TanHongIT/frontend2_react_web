{"ast":null,"code":"import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { logout, update } from '../actions/userActions';\nimport { useDispatch, useSelector } from 'react-redux';\n\nfunction ProfileScreen(props) {\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const dispatch = useDispatch();\n  const userSignin = useSelector(state => state.userSignin);\n  const {\n    userInfo\n  } = userSignin;\n\n  const handleLogout = () => {\n    dispatch(logout());\n    props.history.push(\"/signin\");\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(update({\n      userId: userInfo._id,\n      email,\n      name,\n      password\n    }));\n  };\n\n  const userUpdate = useSelector(state => state.userUpdate);\n  const {\n    loading,\n    success,\n    error\n  } = userUpdate; // const myOrderList = useSelector(state => state.myOrderList);\n  // const { loading: loadingOrders, orders, error: errorOrders } = myOrderList;\n\n  useEffect(() => {\n    if (userInfo) {\n      console.log(userInfo.name);\n      setEmail(userInfo.email);\n      setName(userInfo.name);\n      setPassword(userInfo.password);\n    } // dispatch(listMyOrders());\n\n\n    return () => {};\n  }, [userInfo]);\n  return;\n  {\n    /* <div className=\"profile-orders content-margined\">\n     {\n       loadingOrders ? <div>Loading...</div> :\n         errorOrders ? <div>{errorOrders} </div> :\n           <table className=\"table\">\n             <thead>\n               <tr>\n                 <th>ID</th>\n                 <th>DATE</th>\n                 <th>TOTAL</th>\n                 <th>PAID</th>\n                 <th>ACTIONS</th>\n               </tr>\n             </thead>\n             <tbody>\n               {orders.map(order => <tr key={order._id}>\n                 <td>{order._id}</td>\n                 <td>{order.createdAt}</td>\n                 <td>{order.totalPrice}</td>\n                 <td>{order.isPaid}</td>\n                 <td>\n                   <Link to={\"/order/\" + order._id}>DETAILS</Link>\n                 </td>\n               </tr>)}\n             </tbody>\n           </table>\n     }\n    </div> */\n  }\n}\n\nexport default ProfileScreen;","map":{"version":3,"sources":["/home/tanhong/REACT PROJECT/frontend2_react_web/frontend/src/screens/ProfileScreen.js"],"names":["React","useState","useEffect","Link","logout","update","useDispatch","useSelector","ProfileScreen","props","name","setName","password","setPassword","email","setEmail","dispatch","userSignin","state","userInfo","handleLogout","history","push","submitHandler","e","preventDefault","userId","_id","userUpdate","loading","success","error","console","log"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,MAAT,EAAiBC,MAAjB,QAA+B,wBAA/B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;;AAEA,SAASC,aAAT,CAAuBC,KAAvB,EAA8B;AAC5B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACW,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAMe,QAAQ,GAAGV,WAAW,EAA5B;AAEA,QAAMW,UAAU,GAAGV,WAAW,CAACW,KAAK,IAAIA,KAAK,CAACD,UAAhB,CAA9B;AACA,QAAM;AAAEE,IAAAA;AAAF,MAAeF,UAArB;;AACA,QAAMG,YAAY,GAAG,MAAM;AACzBJ,IAAAA,QAAQ,CAACZ,MAAM,EAAP,CAAR;AACAK,IAAAA,KAAK,CAACY,OAAN,CAAcC,IAAd,CAAmB,SAAnB;AACD,GAHD;;AAIA,QAAMC,aAAa,GAAIC,CAAD,IAAO;AAC3BA,IAAAA,CAAC,CAACC,cAAF;AACAT,IAAAA,QAAQ,CAACX,MAAM,CAAC;AAAEqB,MAAAA,MAAM,EAAEP,QAAQ,CAACQ,GAAnB;AAAwBb,MAAAA,KAAxB;AAA+BJ,MAAAA,IAA/B;AAAqCE,MAAAA;AAArC,KAAD,CAAP,CAAR;AACD,GAHD;;AAIA,QAAMgB,UAAU,GAAGrB,WAAW,CAACW,KAAK,IAAIA,KAAK,CAACU,UAAhB,CAA9B;AACA,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,OAAX;AAAoBC,IAAAA;AAApB,MAA8BH,UAApC,CAjB4B,CAmB5B;AACA;;AACA1B,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIiB,QAAJ,EAAc;AACZa,MAAAA,OAAO,CAACC,GAAR,CAAYd,QAAQ,CAACT,IAArB;AACAK,MAAAA,QAAQ,CAACI,QAAQ,CAACL,KAAV,CAAR;AACAH,MAAAA,OAAO,CAACQ,QAAQ,CAACT,IAAV,CAAP;AACAG,MAAAA,WAAW,CAACM,QAAQ,CAACP,QAAV,CAAX;AACD,KANa,CAOd;;;AACA,WAAO,MAAM,CAEZ,CAFD;AAGD,GAXQ,EAWN,CAACO,QAAD,CAXM,CAAT;AAaA;AACE;AAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BS;AAEb;;AAED,eAAeX,aAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { logout, update } from '../actions/userActions';\nimport { useDispatch, useSelector } from 'react-redux';\n\nfunction ProfileScreen(props) {\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const dispatch = useDispatch();\n\n  const userSignin = useSelector(state => state.userSignin);\n  const { userInfo } = userSignin;\n  const handleLogout = () => {\n    dispatch(logout());\n    props.history.push(\"/signin\");\n  }\n  const submitHandler = (e) => {\n    e.preventDefault();\n    dispatch(update({ userId: userInfo._id, email, name, password }))\n  }\n  const userUpdate = useSelector(state => state.userUpdate);\n  const { loading, success, error } = userUpdate;\n\n  // const myOrderList = useSelector(state => state.myOrderList);\n  // const { loading: loadingOrders, orders, error: errorOrders } = myOrderList;\n  useEffect(() => {\n    if (userInfo) {\n      console.log(userInfo.name)\n      setEmail(userInfo.email);\n      setName(userInfo.name);\n      setPassword(userInfo.password);\n    }\n    // dispatch(listMyOrders());\n    return () => {\n\n    };\n  }, [userInfo])\n\n  return \n    {/* <div className=\"profile-orders content-margined\">\n      {\n        loadingOrders ? <div>Loading...</div> :\n          errorOrders ? <div>{errorOrders} </div> :\n            <table className=\"table\">\n              <thead>\n                <tr>\n                  <th>ID</th>\n                  <th>DATE</th>\n                  <th>TOTAL</th>\n                  <th>PAID</th>\n                  <th>ACTIONS</th>\n                </tr>\n              </thead>\n              <tbody>\n                {orders.map(order => <tr key={order._id}>\n                  <td>{order._id}</td>\n                  <td>{order.createdAt}</td>\n                  <td>{order.totalPrice}</td>\n                  <td>{order.isPaid}</td>\n                  <td>\n                    <Link to={\"/order/\" + order._id}>DETAILS</Link>\n                  </td>\n                </tr>)}\n              </tbody>\n            </table>\n      }\n    </div> */}\n  \n}\n\nexport default ProfileScreen;"]},"metadata":{},"sourceType":"module"}